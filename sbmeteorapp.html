<head>
  <title>Speech Banana</title>
  <link rel="stylesheet" href="css/sbmeteorapp.css">
</head>

<template name="appBody">
  {{> navigationBar}}

  {{#if currentUser}}
    {{> lessonShow}}
  {{else}}
    {{> welcomePage}}
  {{/if}}
    
  {{> footer}}
</template>

<template name="welcomePage">
  <div class="container main welcomePage">
    Welcome stranger!
  </div>
</template>

<template name="lessonShow">
  <div class="container main">
    {{#each lessons}}
    <p>
      <a href="{{pathFor 'wordSetShow'}}">
        <button class='lesson btn btn-default'>{{_id}}: {{lesson_title}}</button>
      </a>
    </p>
    {{/each}}
  </div>
 </template>

<template name="wordSetShow">
  {{> navigationBar}}  <!-- Temporary: Until I can get the route.js layoutTemplate working -->

  <div class="container main"> <!-- Temporary: Until I can get the route.js layoutTemplate working -->

    <div class="btn-group" role="group" aria-label="...">
      {{#each sets}}
      <button type="button" class="word-set {{activeSet}} btn btn-default">{{title}}</button>
      {{/each}}
    </div>
    <button type="button" class="quiz {{activeQuiz}} btn btn-default">Quiz</button>
    <br>
    <br>

    {{#if activeQuiz}}
      {{> quiz}}
    {{else}}
      <div class="btn-group" role="group" aria-label="...">
        {{#each groups}}
        <button type="button" class="word-group {{activeGroup}} btn btn-default">{{group}}</button>
        {{/each}}
      </div>
      <br>

      <ul>
        {{#each words}}
        <li>
          <button class="audio btn btn-default">
            {{word}}
            <span class="glyphicon glyphicon-play"></span>
            <audio src="{{filename}}" ></audio>
          </button>
        </li>
        {{/each}}
      </ul>
    {{/if}}

  </div>
    
  <!--{{> footer}} Temporary: Until I can get the route.js layoutTemplate working -->
</template>

<template name="quiz">
  {{#each sentences}}
  <button class="audio btn btn-default">
    {{sentence}}
    <span class="glyphicon glyphicon-play"></span>
    <audio src="{{filename}}" ></audio>
  </button>
  {{/each}}
  
  <br>
  <form class="user-guess" role="form">
    <input type="text" name="text" class="form-control" placeholder="Enter sentence." />
    <input type="submit" value="submit" class="btn btn-default" />
  </form>

  <br>
  <button class="quiz-next btn btn-default">Next</button> <!-- Will eventually combine with submit button-->
</template>


<template name="navigationBar">
  <nav class="navbar navbar-default navbar-top" role="navigation" id="home">
    <div class="container">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="navbar-header">
         <a class="navbar-brand" rel="home" href="{{pathFor 'appBody'}}" title="Speech Banana">
         Speech Banana
         </a>
      </div>
      <!-- Non-collapsing right-side icons -->
      <div class="nav navbar-nav navbar-right">
        <a id="university-link" href="http://www.jhu.edu/">
          <img class="hidden-xs" id="university-logo" src="img/university_logo_small_horizontal_white.png">
          <img class="hidden-lg hidden-md hidden-sm" id="university-shield" src="img/university_shield_small_white.png">
        </a>
      </div>
      <!-- the collapsing menu -->
      <div class="collapse navbar-collapse navbar-left"  id="navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class="active"><a href="{{pathFor 'appBody'}}">Home</a></li>
          <li><a href="#">About</a></li>
          {{> loginButtons}}
        </ul>
      </div>
    </div>
    <!--/.container -->
  </nav>
</template>

<template name="footer">
  <div class="navbar navbar-default navbar-fixed-bottom">
    <div class="container">
      <p class="text-muted">
        <small>&copy; 2015 Speech Banana, Johns Hopkins University</small>
      </p>
    </div>
  </div>
</template>
