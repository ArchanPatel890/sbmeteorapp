<head>
  <title>Speech Banana</title>
  <link rel="stylesheet" href="css/sbmeteorapp.css">
</head>

<template name="layout">
  {{> navigationBar}}
  <div class="container main">
    {{> yield}}
  </div>
  <!-- {{> footer}} -->
</template>

<template name="appBody">
  {{#if currentUser}}
    {{> lessonShow}}
  {{else}}
    {{> welcomePage}}
  {{/if}}
</template>

<template name="welcomePage">
    Welcome stranger!
</template>

<template name="lessonShow">
  {{#each lessons}}
  <p>
    <a href="{{pathFor 'wordSetShow'}}">
      <button class='lesson btn btn-default'>{{_id}}: {{lesson_title}}</button>
    </a>
  </p>
  {{/each}}
 </template>

<template name="wordSetShow">

  <form role="form">
    <div class="radio">
      <label><input type="radio" id="male" name="optradio" checked={{isChecked 'm'}} />Male</label>
      <label><input type="radio" id="female" name="optradio" checked={{isChecked 'f'}} />Female</label>
    </div>
  </form>

  <div class="btn-group" role="group">
    {{#each sets}}
    <button type="button" class="word-set {{activeSet}} btn btn-default">{{title}}</button>
    {{/each}}
  </div>
  <button type="button" class="quiz {{activeQuiz}} btn btn-default">Quiz</button>
  <br>
  <br>

  {{#if activeQuiz}}
    {{> quiz}}
  {{else}}

    <div class="btn-group" role="group">
      {{#each groups}}
      <button type="button" class="word-group {{activeGroup}} btn btn-default">{{group}}</button>
      {{/each}}
    </div>
    <br>

    <ul>
      {{#each words}}
      <li>
        <button class="audio btn btn-default">
          {{word}}
          <span class="glyphicon glyphicon-play"></span>
          <audio src="{{filename}}" ></audio>
        </button>
      </li>
      {{/each}}
    </ul>

  {{/if}}

</template>

<template name="quiz">
  {{#with sentence}}
  <button class="audio btn btn-default">
    {{sentence.sentence}}
    <span class="glyphicon glyphicon-play"></span>
    <audio src="{{sentence.filename}}" ></audio>
  </button>
  {{/with}}
  <br>

  <form role="form" class="user-guess">
    <div class="row">
      <div class="form-group col-lg-6">
        <div class="input-group">
          <span class="input-group-btn">
            <button type="submit" value="submit" class="btn btn-default">Check</button>
          </span>
          <input type="text" name="text" class="form-control" placeholder="Type what you hear.">
        </div><!-- /input-group -->
      </div>
    </div>
  </form>

  <button class="quiz-next btn btn-default">Continue</button> 

</template>

<template name="about">
  About! Summary of what app does and how to use it
</template>

<template name="progress">
  Progress: graphs of data from sentence tests
</template>

<template name="navigationBar">
  <nav class="navbar navbar-default navbar-top" role="navigation" id="home">
    <div class="container">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="navbar-header">
         <a class="navbar-brand" rel="home" id="brand" href="{{pathFor 'appBody'}}" title="Speech Banana">
         Speech Banana
         </a>
      </div>
      <!-- Non-collapsing right-side icons -->
      <div class="nav navbar-nav navbar-right">
        <a id="university-link" href="http://www.jhu.edu/">
          <img class="hidden-xs" id="university-logo" src="img/university_logo_small_horizontal_white.png">
          <img class="hidden-lg hidden-md hidden-sm" id="university-shield" src="img/university_shield_small_white.png">
        </a>
      </div>
      <!-- the collapsing menu -->
      <div class="collapse navbar-collapse navbar-left"  id="navbar-collapse-1">
        <ul class="nav navbar-nav">
          <!-- <li class={{activeNav 'home'}} id='home'><a href="{{pathFor 'appBody'}}">Home</a></li>  Considering geting rid of this button. Don't want it but perhaps users expect it? -->
          <li class={{activeNav 'about'}} id='about'><a href="{{pathFor 'about'}}">About</a></li>
          {{#if currentUser}}
          <li class={{activeNav 'progress'}} id='progress'><a href="{{pathFor 'progress'}}">Progress</a></li> <!-- Maybe we could call it a log or practice log instead -->
          {{/if}}
          {{> loginButtons}}
        </ul>
      </div>
    </div>
    <!--/.container -->
  </nav>
</template>

<template name="footer">
  <div class="navbar navbar-default navbar-fixed-bottom">
    <div class="container">
      <p class="text-muted">
        <small>&copy; 2015 Speech Banana, Johns Hopkins University</small>
      </p>
    </div>
  </div>
</template>
